BEGIN ~JA#VAALA~

IF ~Global("JA#ELFSONG_QUEST","GLOBAL",6)~ THEN BEGIN JA#VAALA_1
SAY @0
IF ~~ THEN REPLY @1 GOTO JA#VAALA_2
IF ~~ THEN REPLY @2 GOTO JA#VAALA_4
IF ~~ THEN REPLY @3 EXIT
END

IF ~~ THEN BEGIN JA#VAALA_2
SAY @4
IF ~~ THEN REPLY @5 GOTO JA#VAALA_3
IF ~~ THEN REPLY @6 GOTO JA#VAALA_3
END

IF ~~ THEN BEGIN JA#VAALA_3
SAY @7
IF ~~ THEN REPLY @8 GOTO JA#VAALA_5
IF ~~ THEN REPLY @9 GOTO JA#VAALA_7
END

IF ~~ THEN BEGIN JA#VAALA_4
SAY @10
IF ~~ THEN REPLY @8 GOTO JA#VAALA_5
IF ~~ THEN REPLY @11 GOTO JA#VAALA_7
END

IF ~~ THEN BEGIN JA#VAALA_5
SAY @12
= @13
IF ~~ THEN REPLY @14 GOTO JA#VAALA_6
IF ~~ THEN REPLY @15 GOTO JA#VAALA_7
END

IF ~~ THEN BEGIN JA#VAALA_6
SAY @16
= @17
IF ~~ THEN REPLY @18 GOTO JA#VAALA_9
IF ~~ THEN REPLY @19 GOTO JA#VAALA_9
END

IF ~~ THEN BEGIN JA#VAALA_7
SAY @20
IF ~~ THEN REPLY @21 GOTO JA#VAALA_8
END

IF ~~ THEN BEGIN JA#VAALA_8
SAY @22
IF ~~ THEN REPLY @23 GOTO JA#VAALA_9
END

IF ~~ THEN BEGIN JA#VAALA_9
SAY @24
= @25
IF ~~ THEN REPLY @26 GOTO JA#VAALA_10
IF ~~ THEN REPLY @27 GOTO JA#VAALA_11
END

IF ~~ THEN BEGIN JA#VAALA_10
SAY @28
= @29
IF ~~ THEN DO ~SetGlobal("JA#ELFSONG_QUEST","GLOBAL",7)
GiveItem("JA#HRP01",LastTalkedToBy(Myself))
EscapeArea()~ UNSOLVED_JOURNAL #999994 EXIT
END

IF ~~ THEN BEGIN JA#VAALA_11
SAY @31
IF ~~ THEN REPLY @32 GOTO JA#VAALA_12
IF ~~ THEN REPLY @33 GOTO JA#VAALA_13
END

IF ~~ THEN BEGIN JA#VAALA_12
SAY @34
= @35
IF ~~ THEN DO ~SetGlobal("JA#ELFSONG_QUEST","GLOBAL",7)
GiveItem("JA#HRP01",LastTalkedToBy(Myself))
EscapeArea()~ UNSOLVED_JOURNAL #999994 EXIT
END

IF ~~ THEN BEGIN JA#VAALA_13
SAY @36
IF ~~ THEN DO ~SetGlobal("JA#ELFSONG_QUEST","GLOBAL",7)
GiveItem("JA#HRP01",LastTalkedToBy(Myself))
EscapeArea()~ UNSOLVED_JOURNAL #999994 EXIT
END