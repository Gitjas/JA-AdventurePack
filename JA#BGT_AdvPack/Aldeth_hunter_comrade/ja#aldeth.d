ALTER_TRANS ALDETH // file name
BEGIN 0 END // state number (can be more than one)
BEGIN 0 END // transition number (can be more than one)
BEGIN // list of changes, see below for flags
  "ACTION" ~SetGlobal("TalkedToAldeth","GLOBAL",1)~
END

EXTEND_BOTTOM ALDETH 5
IF ~~ THEN REPLY @0 EXTERN SENIYA JA#SENIYA_00
END

APPEND SENIYA

IF ~~ THEN BEGIN JA#SENIYA_00
SAY @3
IF ~~ THEN EXTERN ALDETH JA#ALDETH_20
END

IF ~~ THEN BEGIN JA#SENIYA_01
SAY @4
IF ~~ THEN REPLY @5 GOTO JA#SENIYA_02
IF ~~ THEN REPLY @6 GOTO 1
IF ~~ THEN REPLY @7 EXTERN ALDETH 6
END

IF ~~ THEN BEGIN JA#SENIYA_02
SAY @8
IF ~~ THEN REPLY @9 GOTO JA#SENIYA_03
IF ~~ THEN REPLY @10 GOTO 1
IF ~~ THEN REPLY @11 EXTERN ALDETH 6
END

IF ~~ THEN BEGIN JA#SENIYA_03
SAY @12
IF ~~ THEN EXTERN ALDETH JA#ALDETH_21
END

IF ~~ THEN BEGIN JA#SENIYA_04
SAY @13
IF ~~ THEN REPLY @14 GOTO JA#SENIYA_05
END

IF ~~ THEN BEGIN JA#SENIYA_05
SAY @15
IF ~~ THEN EXTERN ALDETH JA#ALDETH_22
END

IF ~~ THEN BEGIN JA#SENIYA_06
SAY @16
IF ~~ THEN + JA#SENIYA_07
END

IF ~~ THEN BEGIN JA#SENIYA_07
SAY @17
IF ~~ THEN DO ~AddexperienceParty(600)SetGlobal("SeniyadXP","GLOBAL",1)Shout(3)EscapeArea()~ EXIT
END

END

APPEND ALDETH

IF ~GlobalLT("Chapter","GLOBAL",%tutu_chapter_5%)Global("SeniyadXP","GLOBAL",1)~ THEN BEGIN JA#ALDETH_X0
SAY @18
= @19
IF ~~ THEN DO ~SetGlobal("AldethMove","GLOBAL",1)GiveItem("JA#ALDET",LastTalkedToBy)AddexperienceParty(600)EraseJournalEntry(%aldeth1%)EscapeArea()~ SOLVED_JOURNAL @1048 EXIT
END

IF ~~ THEN BEGIN JA#ALDETH_20
SAY @28
IF ~~ THEN EXTERN SENIYA JA#SENIYA_01
END

IF ~~ THEN BEGIN JA#ALDETH_21
SAY @29
IF ~~ THEN EXTERN SENIYA JA#SENIYA_04
END

IF ~~ THEN BEGIN JA#ALDETH_22
SAY @30
IF ~~ THEN EXTERN SENIYA JA#SENIYA_06
END

END //APPEND ALDETH